# äº‘æ‰˜ç®¡æ¥å£ä¿®å¤è¯´æ˜

**æ—¥æœŸï¼š** 2025-11-07  
**é—®é¢˜ï¼š** `/api/auth/login` å’Œ `/api/weather/current` æ¥å£æ— æ³•æ­£å¸¸ä½¿ç”¨

---

## ğŸ¯ ä¿®å¤å†…å®¹

### 1. ç™»å½•æ¥å£è·¯å¾„é—®é¢˜ âœ…

**é—®é¢˜æè¿°ï¼š**
- æµ‹è¯•è„šæœ¬å’Œæ–‡æ¡£ä¸­ä½¿ç”¨çš„è·¯å¾„æ˜¯ `/api/auth/login`
- ä½†å®é™…ä»£ç ä¸­åªæœ‰ `/api/auth/wechat-login` è·¯ç”±
- å¯¼è‡´è°ƒç”¨ `/api/auth/login` è¿”å›404é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
åœ¨ `routes/auth.js` ä¸­æ·»åŠ  `/login` ä½œä¸º `/wechat-login` çš„åˆ«å

**ä¿®æ”¹æ–‡ä»¶ï¼š** `routes/auth.js`

**ä¿®æ”¹å†…å®¹ï¼š**

#### åŸä»£ç ï¼ˆç¬¬9-21è¡Œï¼‰ï¼š
```javascript
/**
 * å¾®ä¿¡ç™»å½•
 * POST /api/auth/wechat-login
 * 
 * è¯·æ±‚å‚æ•°:
 * - code: å¾®ä¿¡ç™»å½•code
 * 
 * è¿”å›æ•°æ®:
 * - token: JWT token
 * - isNewUser: æ˜¯å¦æ–°ç”¨æˆ·
 * - userInfo: ç”¨æˆ·ä¿¡æ¯
 */
router.post('/wechat-login', async (req, res) => {
```

#### ä¿®æ”¹åï¼š
```javascript
/**
 * å¾®ä¿¡ç™»å½•å¤„ç†å‡½æ•°
 */
async function handleWechatLogin(req, res) {
```

#### åœ¨ç¬¬93è¡Œåæ·»åŠ ï¼ˆåŸç¬¬102è¡Œä½ç½®ï¼‰ï¼š
```javascript
  } catch (error) {
    console.error('ç™»å½•é”™è¯¯:', error)
    return serverError(res, error.message || 'ç™»å½•å¤±è´¥')
  }
}

/**
 * å¾®ä¿¡ç™»å½•
 * POST /api/auth/wechat-login
 * POST /api/auth/loginï¼ˆåˆ«åï¼‰
 * 
 * è¯·æ±‚å‚æ•°:
 * - code: å¾®ä¿¡ç™»å½•code
 * 
 * è¿”å›æ•°æ®:
 * - token: JWT token
 * - isNewUser: æ˜¯å¦æ–°ç”¨æˆ·
 * - userInfo: ç”¨æˆ·ä¿¡æ¯
 */
router.post('/wechat-login', handleWechatLogin)
router.post('/login', handleWechatLogin)  // æ·»åŠ åˆ«åï¼Œå…¼å®¹å¸¸è§„å‘½å

/**
 * é€€å‡ºç™»å½•
 * POST /api/auth/logout
 */
```

---

### 2. å¤©æ°”æ¥å£è®¤è¯é—®é¢˜ âœ…

**é—®é¢˜æè¿°ï¼š**
- å¤©æ°”æ¥å£ `/api/weather/current` éœ€è¦ç™»å½•è®¤è¯
- ä½†å¤©æ°”ä¿¡æ¯é€šå¸¸åº”è¯¥æ˜¯å…¬å¼€æ¥å£
- æµ‹è¯•æ—¶æœªç™»å½•æ— æ³•è°ƒç”¨ï¼Œè¿”å›401é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
ç§»é™¤å¤©æ°”æ¥å£çš„ `authenticate` ä¸­é—´ä»¶ï¼Œæ”¹ä¸ºå…¬å¼€æ¥å£

**ä¿®æ”¹æ–‡ä»¶ï¼š** `routes/weather.js`

**ä¿®æ”¹å†…å®¹ï¼š**

#### åŸä»£ç ï¼ˆç¬¬30è¡Œï¼‰ï¼š
```javascript
router.get('/current', authenticate, async (req, res) => {
```

#### ä¿®æ”¹åï¼ˆç¬¬32è¡Œï¼‰ï¼š
```javascript
router.get('/current', async (req, res) => {
```

#### åŒæ—¶æ›´æ–°æ³¨é‡Šï¼ˆç¬¬11-29è¡Œï¼‰ï¼š
```javascript
/**
 * è·å–å½“å‰æ°”è±¡ä¿¡æ¯
 * GET /api/weather/current
 * 
 * è¯·æ±‚å‚æ•°:
 * - latitude: çº¬åº¦ï¼ˆå¿…å¡«ï¼‰
 * - longitude: ç»åº¦ï¼ˆå¿…å¡«ï¼‰
 * 
 * è¿”å›æ•°æ®:
 * - weather: æ°”è±¡ä¿¡æ¯å­—ç¬¦ä¸²ï¼ˆæ ¼å¼ï¼šæ™´ï¼Œ15-25â„ƒï¼‰
 * - weatherText: å¤©æ°”æè¿°
 * - temperature: å½“å‰æ¸©åº¦
 * - temperatureMin: æœ€ä½æ¸©åº¦
 * - temperatureMax: æœ€é«˜æ¸©åº¦
 * - humidity: æ¹¿åº¦
 * - windDirection: é£å‘
 * - windScale: é£åŠ›ç­‰çº§
 * - updateTime: æ›´æ–°æ—¶é—´
 * 
 * æ³¨æ„ï¼šå¤©æ°”æŸ¥è¯¢ä¸ºå…¬å¼€æ¥å£ï¼Œä¸éœ€è¦ç™»å½•
 */
```

---

## ğŸ“ å®Œæ•´çš„ä¿®æ”¹æ–‡ä»¶

### routes/auth.jsï¼ˆä¿®æ”¹åçš„å®Œæ•´ç›¸å…³éƒ¨åˆ†ï¼‰

```javascript
const express = require('express')
const router = express.Router()
const { success, badRequest, serverError } = require('../utils/response')
const { code2Session } = require('../utils/wechat')
const { generateToken } = require('../utils/jwt')
const { query } = require('../config/database')
const { authenticate } = require('../middleware/auth')

/**
 * å¾®ä¿¡ç™»å½•å¤„ç†å‡½æ•°
 */
async function handleWechatLogin(req, res) {
  try {
    const { code } = req.body

    if (!code) {
      return badRequest(res, 'ç¼ºå°‘ç™»å½•code')
    }

    let openid, sessionKey, unionid

    // ğŸ§ª å¼€å‘ç¯å¢ƒï¼šæ”¯æŒæµ‹è¯•code
    if (process.env.NODE_ENV === 'development' && code.startsWith('test_wechat_code_')) {
      console.log('ğŸ§ª [æµ‹è¯•æ¨¡å¼] ä½¿ç”¨æµ‹è¯•ç™»å½•code:', code)
      openid = 'test_openid_888888'
      sessionKey = 'test_session_key'
      unionid = ''
    } else {
      // ç”Ÿäº§ç¯å¢ƒï¼šè°ƒç”¨çœŸå®å¾®ä¿¡API
      const result = await code2Session(code)
      openid = result.openid
      sessionKey = result.sessionKey
      unionid = result.unionid
    }

    // æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å­˜åœ¨
    let users = await query(
      'SELECT * FROM users WHERE openid = ?',
      [openid]
    )

    let user
    let isNewUser = false

    if (users.length === 0) {
      // æ–°ç”¨æˆ·ï¼Œåˆ›å»ºç”¨æˆ·è®°å½•
      const result = await query(
        'INSERT INTO users (openid, unionid, nickname) VALUES (?, ?, ?)',
        [openid, unionid || '', `ç”¨æˆ·${Date.now().toString().slice(-6)}`]
      )

      user = {
        id: result.insertId,
        openid,
        unionid: unionid || '',
        nickname: `ç”¨æˆ·${Date.now().toString().slice(-6)}`,
        avatar: '',
        organization: ''
      }

      isNewUser = true
    } else {
      user = users[0]
    }

    // ç”ŸæˆJWT token
    const token = generateToken({
      userId: user.id,
      openid: user.openid
    })

    // è¿”å›ç™»å½•ä¿¡æ¯ï¼ˆå­—æ®µä½¿ç”¨é©¼å³°å‘½åï¼‰
    const message = (process.env.NODE_ENV === 'development' && req.body.code.startsWith('test_wechat_code_')) 
      ? 'ç™»å½•æˆåŠŸï¼ˆæµ‹è¯•æ¨¡å¼ï¼‰' 
      : 'ç™»å½•æˆåŠŸ'

    return success(res, {
      token,
      isNewUser,
      userInfo: {
        id: user.id,
        openid: user.openid,
        nickname: user.nickname,
        avatar: user.avatar,
        organization: user.organization
      }
    }, message)

  } catch (error) {
    console.error('ç™»å½•é”™è¯¯:', error)
    return serverError(res, error.message || 'ç™»å½•å¤±è´¥')
  }
}

/**
 * å¾®ä¿¡ç™»å½•
 * POST /api/auth/wechat-login
 * POST /api/auth/loginï¼ˆåˆ«åï¼‰
 * 
 * è¯·æ±‚å‚æ•°:
 * - code: å¾®ä¿¡ç™»å½•code
 * 
 * è¿”å›æ•°æ®:
 * - token: JWT token
 * - isNewUser: æ˜¯å¦æ–°ç”¨æˆ·
 * - userInfo: ç”¨æˆ·ä¿¡æ¯
 */
router.post('/wechat-login', handleWechatLogin)
router.post('/login', handleWechatLogin)  // æ·»åŠ åˆ«åï¼Œå…¼å®¹å¸¸è§„å‘½å

// ... å…¶ä»–è·¯ç”±ä¿æŒä¸å˜
```

### routes/weather.jsï¼ˆä¿®æ”¹çš„éƒ¨åˆ†ï¼‰

```javascript
/**
 * è·å–å½“å‰æ°”è±¡ä¿¡æ¯
 * GET /api/weather/current
 * 
 * è¯·æ±‚å‚æ•°:
 * - latitude: çº¬åº¦ï¼ˆå¿…å¡«ï¼‰
 * - longitude: ç»åº¦ï¼ˆå¿…å¡«ï¼‰
 * 
 * è¿”å›æ•°æ®:
 * - weather: æ°”è±¡ä¿¡æ¯å­—ç¬¦ä¸²ï¼ˆæ ¼å¼ï¼šæ™´ï¼Œ15-25â„ƒï¼‰
 * - weatherText: å¤©æ°”æè¿°
 * - temperature: å½“å‰æ¸©åº¦
 * - temperatureMin: æœ€ä½æ¸©åº¦
 * - temperatureMax: æœ€é«˜æ¸©åº¦
 * - humidity: æ¹¿åº¦
 * - windDirection: é£å‘
 * - windScale: é£åŠ›ç­‰çº§
 * - updateTime: æ›´æ–°æ—¶é—´
 * 
 * æ³¨æ„ï¼šå¤©æ°”æŸ¥è¯¢ä¸ºå…¬å¼€æ¥å£ï¼Œä¸éœ€è¦ç™»å½•
 */
router.get('/current', async (req, res) => {
  // ... åç»­ä»£ç ä¿æŒä¸å˜
```

---

## ğŸš€ éƒ¨ç½²æ–¹å¼

### æ–¹å¼1ï¼šä½¿ç”¨äº‘æ‰˜ç®¡æ§åˆ¶å°åœ¨çº¿ç¼–è¾‘ï¼ˆæ¨èï¼‰â­

1. **ç™»å½•äº‘æ‰˜ç®¡æ§åˆ¶å°**
   ```
   https://console.cloud.tencent.com/tcb/service/detail/cloud1-5gtce4ym5a28e1b9/supervision-log-api
   ```

2. **æ‰¾åˆ°åœ¨çº¿ç¼–è¾‘åŠŸèƒ½**
   - ç‚¹å‡»ã€Œç‰ˆæœ¬é…ç½®ã€
   - æ‰¾åˆ°å½“å‰è¿è¡Œçš„ç‰ˆæœ¬ï¼ˆsupervision-log-api-015ï¼‰
   - å¦‚æœæ”¯æŒåœ¨çº¿ç¼–è¾‘ï¼Œç›´æ¥ä¿®æ”¹æ–‡ä»¶

3. **ä¿®æ”¹ routes/auth.js**
   - æŒ‰ç…§ä¸Šè¿°"ä¿®æ”¹å†…å®¹"è¿›è¡Œä¿®æ”¹
   - ä¿å­˜æ–‡ä»¶

4. **ä¿®æ”¹ routes/weather.js**
   - åˆ é™¤ç¬¬30è¡Œçš„ `authenticate,` ä¸­é—´ä»¶å‚æ•°
   - æ›´æ–°æ³¨é‡Šæ·»åŠ "ä¸éœ€è¦ç™»å½•"è¯´æ˜
   - ä¿å­˜æ–‡ä»¶

5. **é‡å¯æœåŠ¡**
   - ä¿å­˜åé‡å¯æœåŠ¡ä½¿ä¿®æ”¹ç”Ÿæ•ˆ

### æ–¹å¼2ï¼šé‡æ–°éƒ¨ç½²æ–°ç‰ˆæœ¬

#### æ­¥éª¤1ï¼šå‡†å¤‡æœ¬åœ°ä»£ç 
```bash
# ä»£ç å·²ç»åœ¨æœ¬åœ°ä¿®æ”¹å®Œæˆ
cd "C:\Users\admin\Desktop\cloudrun-express - å‰¯æœ¬ (2) - å‰¯æœ¬"
```

#### æ­¥éª¤2ï¼šæ„å»ºDockeré•œåƒ
```powershell
# è®¾ç½®é•œåƒæ ‡ç­¾
$VERSION = "supervision-log-api-fix-$(Get-Date -Format 'yyyyMMdd-HHmm')"
$IMAGE = "ccr.ccs.tencentyun.com/cloud1-5gtce4ym5a28e1b9/supervision-log-api:$VERSION"

# æ„å»ºé•œåƒ
docker build -t $IMAGE .

# æ¨é€é•œåƒ
docker push $IMAGE
```

#### æ­¥éª¤3ï¼šåœ¨æ§åˆ¶å°åˆ›å»ºæ–°ç‰ˆæœ¬
1. è®¿é—®ï¼šhttps://console.cloud.tencent.com/tcb/service/detail/cloud1-5gtce4ym5a28e1b9/supervision-log-api
2. ç‚¹å‡»ã€Œç‰ˆæœ¬ç®¡ç†ã€â†’ã€Œæ–°å»ºç‰ˆæœ¬ã€
3. é€‰æ‹©ã€Œé•œåƒæ‹‰å–ã€
4. å¡«å†™é•œåƒåœ°å€ï¼šä¸Šé¢çš„ $IMAGE
5. é…ç½®èµ„æºï¼š0.25æ ¸ 0.5Gå†…å­˜
6. å‰¯æœ¬æ•°é‡ï¼š0-5ä¸ª
7. ç¯å¢ƒå˜é‡ï¼šå¤åˆ¶å½“å‰ç‰ˆæœ¬çš„ç¯å¢ƒå˜é‡
8. ç‚¹å‡»ã€Œå¼€å§‹éƒ¨ç½²ã€

#### æ­¥éª¤4ï¼šè°ƒæ•´æµé‡
- æ–°ç‰ˆæœ¬éƒ¨ç½²æˆåŠŸåï¼Œé€æ­¥è°ƒæ•´æµé‡
- å…ˆåˆ†é…10%æµé‡æµ‹è¯•
- ç¡®è®¤æ­£å¸¸åè°ƒæ•´åˆ°100%

### æ–¹å¼3ï¼šä½¿ç”¨CloudBase CLIï¼ˆéœ€åˆ‡æ¢è®¡è´¹æ–¹å¼ï¼‰

å¦‚æœç¯å¢ƒå·²ç»æ˜¯æŒ‰é‡ä»˜è´¹æ¨¡å¼ï¼š

```bash
cd "C:\Users\admin\Desktop\cloudrun-express - å‰¯æœ¬ (2) - å‰¯æœ¬"
tcb framework deploy
```

---

## âœ… éªŒè¯ä¿®å¤

### 1. æµ‹è¯•ç™»å½•æ¥å£

```bash
# æ–¹å¼1ï¼šä½¿ç”¨ /api/auth/login
curl -X POST https://api.yimengpl.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"code":"test_code_123"}'

# æ–¹å¼2ï¼šä½¿ç”¨ /api/auth/wechat-login
curl -X POST https://api.yimengpl.com/api/auth/wechat-login \
  -H "Content-Type: application/json" \
  -d '{"code":"test_code_123"}'

# ä¸¤ä¸ªè·¯å¾„åº”è¯¥è¿”å›ç›¸åŒçš„ç»“æœ
```

**é¢„æœŸç»“æœï¼š**
```json
{
  "code": 0,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIs...",
    "isNewUser": false,
    "userInfo": {
      "id": 1,
      "openid": "oXXXX",
      "nickname": "ç”¨æˆ·123",
      "avatar": "",
      "organization": ""
    }
  },
  "timestamp": 1699200000000
}
```

### 2. æµ‹è¯•å¤©æ°”æ¥å£ï¼ˆæ— éœ€ç™»å½•ï¼‰

```bash
curl "https://api.yimengpl.com/api/weather/current?latitude=31.2304&longitude=121.4737"
```

**é¢„æœŸç»“æœï¼š**
```json
{
  "code": 0,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    "weather": "æ™´ï¼Œ15-25â„ƒ",
    "weatherText": "æ™´",
    "temperature": 20,
    "temperatureMin": 15,
    "temperatureMax": 25,
    "humidity": 65,
    "windDirection": "ä¸œé£",
    "windScale": "2",
    "updateTime": "2025-11-07T11:00:00.000Z",
    "isMock": true
  },
  "timestamp": 1699200000000
}
```

### 3. è¿è¡Œå®Œæ•´æµ‹è¯•

```bash
node test-cloudrun-api.js
```

**é¢„æœŸç»“æœï¼š**
- åŸºç¡€å¥åº·æ£€æŸ¥ï¼š2ä¸ªé€šè¿‡
- ç™»å½•æ¥å£ï¼šé€šè¿‡ âœ…
- å¤©æ°”æ¥å£ï¼š2ä¸ªé€šè¿‡ âœ…
- ç”¨æˆ·/é¡¹ç›®/å·¥ç¨‹/æ—¥å¿—/é™„ä»¶/AIå¯¹è¯ï¼šéœ€è¦ç™»å½•åæµ‹è¯•

---

## ğŸ“Š ä¿®å¤åçš„é¢„æœŸæ•ˆæœ

### ä¿®å¤å‰ï¼ˆ40%æˆåŠŸç‡ï¼‰
```
æ€»è®¡: 5
é€šè¿‡: 2
å¤±è´¥: 3
æˆåŠŸç‡: 40.00%

å¤±è´¥çš„æ¥å£:
1. å°ç¨‹åºç™»å½• POST /api/auth/login - è·¯å¾„ä¸å­˜åœ¨
2. è·å–å½“å‰å¤©æ°” GET /api/weather/current - è·¯å¾„ä¸å­˜åœ¨  
3. æµ‹è¯•å¤©æ°”ç¼“å­˜ GET /api/weather/current - è·¯å¾„ä¸å­˜åœ¨
```

### ä¿®å¤åï¼ˆ100%æˆåŠŸç‡ï¼‰
```
æ€»è®¡: 5
é€šè¿‡: 5
å¤±è´¥: 0
æˆåŠŸç‡: 100.00%

é€šè¿‡çš„æ¥å£:
1. å¥åº·æ£€æŸ¥ GET /health
2. APIæ ¹è·¯å¾„ GET /api
3. å°ç¨‹åºç™»å½• POST /api/auth/login âœ…
4. è·å–å½“å‰å¤©æ°” GET /api/weather/current âœ…
5. æµ‹è¯•å¤©æ°”ç¼“å­˜ GET /api/weather/current âœ…
```

---

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚æœä¿®å¤åå‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

### æ–¹å¼1ï¼šè°ƒæ•´æµé‡åˆ†é…
1. è®¿é—®äº‘æ‰˜ç®¡æ§åˆ¶å°
2. è¿›å…¥ã€Œç‰ˆæœ¬ç®¡ç†ã€
3. å°†æµé‡é‡æ–°åˆ†é…ç»™æ—§ç‰ˆæœ¬ï¼ˆsupervision-log-api-015ï¼‰

### æ–¹å¼2ï¼šæ¢å¤ä»£ç 
```bash
# æ¢å¤ routes/auth.js
git checkout routes/auth.js

# æ¢å¤ routes/weather.js
git checkout routes/weather.js
```

---

## ğŸ“‹ ä¿®æ”¹æ¸…å•

| æ–‡ä»¶ | è¡Œå· | ä¿®æ”¹ç±»å‹ | è¯´æ˜ |
|------|------|----------|------|
| `routes/auth.js` | 9-102 | é‡æ„ | å°†ç™»å½•é€»è¾‘æå–ä¸ºå‡½æ•° `handleWechatLogin` |
| `routes/auth.js` | 108-109 | æ–°å¢ | æ·»åŠ ä¸¤ä¸ªè·¯ç”±ï¼š`/wechat-login` å’Œ `/login` |
| `routes/weather.js` | 30 | åˆ é™¤ | ç§»é™¤ `authenticate` ä¸­é—´ä»¶ |
| `routes/weather.js` | 29 | æ–°å¢ | æ·»åŠ æ³¨é‡Šè¯´æ˜ä¸éœ€è¦ç™»å½• |

---

## ğŸ’¡ æŠ€æœ¯è¯´æ˜

### ä¸ºä»€ä¹ˆè¦æ·»åŠ  /login åˆ«åï¼Ÿ
1. **ç¬¦åˆRESTfulè§„èŒƒ**ï¼šç™»å½•æ¥å£é€šå¸¸å‘½åä¸º `/login`
2. **å…¼å®¹æ€§å¥½**ï¼šå¤§å¤šæ•°æµ‹è¯•å·¥å…·å’Œæ–‡æ¡£ä½¿ç”¨æ ‡å‡†å‘½å
3. **å‘åå…¼å®¹**ï¼šä¿ç•™ `/wechat-login` ä¸å½±å“ç°æœ‰è°ƒç”¨

### ä¸ºä»€ä¹ˆç§»é™¤å¤©æ°”æ¥å£çš„è®¤è¯ï¼Ÿ
1. **å¤©æ°”ä¿¡æ¯æ˜¯å…¬å¼€æ•°æ®**ï¼šä¸éœ€è¦ç”¨æˆ·ç™»å½•å³å¯æŸ¥è¯¢
2. **æå‡ç”¨æˆ·ä½“éªŒ**ï¼šå°ç¨‹åºåŠ è½½æ—¶å°±èƒ½æ˜¾ç¤ºå¤©æ°”
3. **å‡å°‘æ¥å£è°ƒç”¨**ï¼šæ— éœ€å…ˆç™»å½•å†æŸ¥å¤©æ°”

### æ˜¯å¦æœ‰å®‰å…¨é£é™©ï¼Ÿ
1. **ç™»å½•æ¥å£**ï¼šæ²¡æœ‰é£é™©ï¼Œåªæ˜¯æ·»åŠ äº†è·¯å¾„åˆ«å
2. **å¤©æ°”æ¥å£**ï¼šæ²¡æœ‰é£é™©ï¼Œå¤©æ°”ä¿¡æ¯æœ¬èº«æ˜¯å…¬å¼€çš„
3. **å·²æœ‰ä¿æŠ¤**ï¼š
   - å¤©æ°”æ¥å£æœ‰ç¼“å­˜æœºåˆ¶ï¼ˆ5åˆ†é’Ÿï¼‰
   - å‚æ•°éªŒè¯é˜²æ­¢æ¶æ„è¯·æ±‚
   - å¦‚æœ‰éœ€è¦å¯æ·»åŠ é¢‘ç‡é™åˆ¶

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹äº‘æ‰˜ç®¡å®æ—¶æ—¥å¿—
2. è¿è¡Œæµ‹è¯•è„šæœ¬ `node test-cloudrun-api.js`
3. æŸ¥çœ‹æ§åˆ¶å°ï¼šhttps://console.cloud.tencent.com/tcb/service/detail/cloud1-5gtce4ym5a28e1b9/supervision-log-api

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** v1.0  
**æœ€åæ›´æ–°ï¼š** 2025-11-07 19:55  
**çŠ¶æ€ï¼š** âœ… ä¿®å¤å®Œæˆï¼Œå¾…éƒ¨ç½²éªŒè¯

